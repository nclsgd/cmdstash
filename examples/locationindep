#!/bin/sh
# shellcheck disable=SC2317   # silence code unreachability warnings
# vim: set ft=sh ts=4 sw=4 noet ai tw=79:
# shellcheck disable=SC3040   # allow pipefail option usage in POSIX sh
set -eu; (set -o pipefail) 2>/dev/null && set -o pipefail
# Self-relocate within the path of this script:
CMDSTASH_ORIGINALPWD="${PWD:?}"
cd "${0%"${0##*/}"}."
# Find project base dir and load cmdstash from there:
PROJECT_BASEDIR="$(set '' ''; cd .; while [ "$2" != / ]; do
[ -f ._project_basedir_ ] && { echo "${1:-.}"; exit 0; }
set "$1${1:+/}.." "$PWD"; cd ..; done; echo >&2 \
"$0: could not determine PROJECT_BASEDIR by looking up parent dirs"; exit 1)"
readonly PROJECT_BASEDIR
. "${PROJECT_BASEDIR:?}/cmdsta.sh"
### COMMANDS BELOW (do NOT edit this line: it is expected by cmdstash) ###

# Handy commands defined elsewhere 
CMD chain ch -- "$CMDSTASH_CHAIN_USAGE"

# Just a silly command to expose how cmdstash works
CMD helloworld hw -- 'say hello world'
helloworld() {
	echo 'Hello world!'
}
